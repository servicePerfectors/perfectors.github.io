import{g as D,a as F,a7 as _,s as k,e as I,_ as c,a8 as W,b as C,k as z,c as U,j as s,d as T,f as N,E as A,a9 as K,S as E,D as O,I as V,w as G,aa as Z,z as q,a1 as H,ab as J,ac as Q,W as X}from"./index-d7408315.js";import{u as Y}from"./use-router-d93a7cf9.js";import{l as oo}from"./index-39332635.js";import{T as S}from"./TextField-28ea0065.js";import{a as to}from"./useControlled-ca2514ca.js";import{C as so}from"./Select-1d48fc69.js";import"./isMuiElement-4f477fbf.js";function io(t){return D("MuiCircularProgress",t)}F("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const no=["className","color","disableShrink","size","style","thickness","value","variant"];let j=t=>t,w,B,R,M;const P=44,ao=_(w||(w=j`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),ro=_(B||(B=j`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),eo=t=>{const{classes:o,variant:i,color:r,disableShrink:e}=t,d={root:["root",i,`color${I(r)}`],svg:["svg"],circle:["circle",`circle${I(i)}`,e&&"circleDisableShrink"]};return N(d,io,o)},lo=k("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:i}=t;return[o.root,o[i.variant],o[`color${I(i.color)}`]]}})(({ownerState:t,theme:o})=>c({display:"inline-block"},t.variant==="determinate"&&{transition:o.transitions.create("transform")},t.color!=="inherit"&&{color:(o.vars||o).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&W(R||(R=j`
      animation: ${0} 1.4s linear infinite;
    `),ao)),co=k("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,o)=>o.svg})({display:"block"}),go=k("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,o)=>{const{ownerState:i}=t;return[o.circle,o[`circle${I(i.variant)}`],i.disableShrink&&o.circleDisableShrink]}})(({ownerState:t,theme:o})=>c({stroke:"currentColor"},t.variant==="determinate"&&{transition:o.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&W(M||(M=j`
      animation: ${0} 1.4s ease-in-out infinite;
    `),ro)),uo=C.forwardRef(function(o,i){const r=z({props:o,name:"MuiCircularProgress"}),{className:e,color:d="primary",disableShrink:m=!1,size:g=40,style:n,thickness:u=3.6,value:x=0,variant:L="indeterminate"}=r,y=U(r,no),p=c({},r,{color:d,disableShrink:m,size:g,thickness:u,value:x,variant:L}),l=eo(p),h={},v={},b={};if(L==="determinate"){const a=2*Math.PI*((P-u)/2);h.strokeDasharray=a.toFixed(3),b["aria-valuenow"]=Math.round(x),h.strokeDashoffset=`${((100-x)/100*a).toFixed(3)}px`,v.transform="rotate(-90deg)"}return s.jsx(lo,c({className:T(l.root,e),style:c({width:g,height:g},v,n),ownerState:p,ref:i,role:"progressbar"},b,y,{children:s.jsx(co,{className:l.svg,ownerState:p,viewBox:`${P/2} ${P/2} ${P} ${P}`,children:s.jsx(go,{className:l.circle,style:h,ownerState:p,cx:P,cy:P,r:(P-u)/2,fill:"none",strokeWidth:u})})}))}),po=uo;function ho(t){return D("MuiLoadingButton",t)}const fo=F("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),f=fo,mo=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],xo=t=>{const{loading:o,loadingPosition:i,classes:r}=t,e={root:["root",o&&"loading"],startIcon:[o&&`startIconLoading${I(i)}`],endIcon:[o&&`endIconLoading${I(i)}`],loadingIndicator:["loadingIndicator",o&&`loadingIndicator${I(i)}`]},d=N(e,ho,r);return c({},r,d)},vo=t=>t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"&&t!=="classes",Po=k(A,{shouldForwardProp:t=>vo(t)||t==="classes",name:"MuiLoadingButton",slot:"Root",overridesResolver:(t,o)=>[o.root,o.startIconLoadingStart&&{[`& .${f.startIconLoadingStart}`]:o.startIconLoadingStart},o.endIconLoadingEnd&&{[`& .${f.endIconLoadingEnd}`]:o.endIconLoadingEnd}]})(({ownerState:t,theme:o})=>c({[`& .${f.startIconLoadingStart}, & .${f.endIconLoadingEnd}`]:{transition:o.transitions.create(["opacity"],{duration:o.transitions.duration.short}),opacity:0}},t.loadingPosition==="center"&&{transition:o.transitions.create(["background-color","box-shadow","border-color"],{duration:o.transitions.duration.short}),[`&.${f.loading}`]:{color:"transparent"}},t.loadingPosition==="start"&&t.fullWidth&&{[`& .${f.startIconLoadingStart}, & .${f.endIconLoadingEnd}`]:{transition:o.transitions.create(["opacity"],{duration:o.transitions.duration.short}),opacity:0,marginRight:-8}},t.loadingPosition==="end"&&t.fullWidth&&{[`& .${f.startIconLoadingStart}, & .${f.endIconLoadingEnd}`]:{transition:o.transitions.create(["opacity"],{duration:o.transitions.duration.short}),opacity:0,marginLeft:-8}})),Io=k("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(t,o)=>{const{ownerState:i}=t;return[o.loadingIndicator,o[`loadingIndicator${I(i.loadingPosition)}`]]}})(({theme:t,ownerState:o})=>c({position:"absolute",visibility:"visible",display:"flex"},o.loadingPosition==="start"&&(o.variant==="outlined"||o.variant==="contained")&&{left:o.size==="small"?10:14},o.loadingPosition==="start"&&o.variant==="text"&&{left:6},o.loadingPosition==="center"&&{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled},o.loadingPosition==="end"&&(o.variant==="outlined"||o.variant==="contained")&&{right:o.size==="small"?10:14},o.loadingPosition==="end"&&o.variant==="text"&&{right:6},o.loadingPosition==="start"&&o.fullWidth&&{position:"relative",left:-10},o.loadingPosition==="end"&&o.fullWidth&&{position:"relative",right:-10})),Lo=C.forwardRef(function(o,i){const r=z({props:o,name:"MuiLoadingButton"}),{children:e,disabled:d=!1,id:m,loading:g=!1,loadingIndicator:n,loadingPosition:u="center",variant:x="text"}=r,L=U(r,mo),y=to(m),p=n??s.jsx(po,{"aria-labelledby":y,color:"inherit",size:16}),l=c({},r,{disabled:d,loading:g,loadingIndicator:p,loadingPosition:u,variant:x}),h=xo(l),v=g?s.jsx(Io,{className:h.loadingIndicator,ownerState:l,children:p}):null;return s.jsxs(Po,c({disabled:d||g,id:y,ref:i},L,{variant:x,classes:h,ownerState:l,children:[l.loadingPosition==="end"?e:v,l.loadingPosition==="end"?v:e]}))}),yo=Lo,{setUserDetails:Co}=J.actions,{setError:bo}=Q.actions;function ko(){var l,h,v,b;const t=Y(),o=K(),[i,r]=C.useState(!1),[e,d]=C.useState(""),[m,g]=C.useState(""),[n,u]=C.useState(null),x=()=>{if(!e){const a={isError:!0,message:"Please enter email address"};u($=>({...$,email:a}))}if(!m){const a={isError:!0,message:"Please enter password"};u($=>({...$,password:a}))}return!(!e||!m)},L=async()=>{if(x()){const a=await oo({email:e,password:m});debugger;a.status===200?a.new?t.push("/reset-password"):(o(Co(a)),t.push("/dashboard")):o(bo(a))}},y=()=>{t.push("/forgot-password")},p=s.jsxs(s.Fragment,{children:[s.jsxs(E,{spacing:3,children:[s.jsx(S,{error:(l=n==null?void 0:n.email)==null?void 0:l.isError,helperText:(h=n==null?void 0:n.email)==null?void 0:h.message,name:"email",label:"Email address",value:e,onChange:a=>d(a.target.value)}),s.jsx(S,{error:(v=n==null?void 0:n.password)==null?void 0:v.isError,helperText:(b=n==null?void 0:n.password)==null?void 0:b.message,name:"password",label:"Password",type:i?"text":"password",value:m,onChange:a=>g(a.target.value),InputProps:{endAdornment:s.jsx(O,{position:"end",children:s.jsx(V,{onClick:()=>r(!i),edge:"end",children:s.jsx(G,{icon:i?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),s.jsx(E,{direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:3},children:s.jsx(Z,{variant:"subtitle2",underline:"hover",sx:{cursor:"pointer"},onClick:y,children:"Forgot password?"})}),s.jsx(yo,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",onClick:L,children:"Login"})]});return s.jsxs(q,{sx:{height:1},children:[s.jsx(H,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),s.jsx(E,{alignItems:"center",justifyContent:"center",sx:{height:1},children:s.jsx(so,{sx:{p:5,width:1,maxWidth:420},children:p})})]})}function Mo(){return s.jsxs(s.Fragment,{children:[s.jsx(X,{children:s.jsx("title",{children:" Login "})}),s.jsx(ko,{})]})}export{Mo as default};
