var U=Object.defineProperty;var m=(e,s,t)=>s in e?U(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t;var g=(e,s,t)=>(m(e,typeof s!="symbol"?s+"":s,t),t);import{aB as y,aC as S}from"./index-027e31d9.js";const h="https://testproject-49049.df.r.appspot.com",w={LOGIN:"/login",UPLOAD:"/upload",UPDATE_USER:"/updateUser",FETCH_USERS:"/fetchUsers"},p={BASE_URL:h,ENDPOINTS:w},{BASE_URL:l}=p,n=class n extends y{constructor(s=l){super(s)}static getInstance(){return this.classInstance||(this.classInstance=new n(l)),this.classInstance.instance}static getNewInstance(s){return new n(s)}static getHandledError(s,t="Something went wrong, Please try again later"){var c,o,d,u;return(o=(c=s==null?void 0:s.response)==null?void 0:c.data)!=null&&o.messages?Array.isArray(s.response.data.messages)?s.response.data.messages.join(","):s.response.data.messages:(u=(d=s==null?void 0:s.response)==null?void 0:d.data)!=null&&u.message?Array.isArray(s.response.data.message)?s.response.data.message.join(","):s.response.data.message:t}};g(n,"classInstance",null);let a=n;const{LOGIN:I,UPLOAD:i,UPDATE_USER:f,FETCH_USERS:A}=p.ENDPOINTS,r=a.getInstance(),D=async e=>{try{const s=await r.post(I,e);return S("authToken",s.data.jwt,1),{...s.data,status:s.status}}catch(s){return{errMessage:a.getHandledError(s)}}},H=async e=>{try{const s=await r.post(f,e);return{...s.data,status:s.status}}catch(s){return{errMessage:a.getHandledError(s)}}},L=async e=>{try{const s=new FormData;s.append("file",e);const t=await r.post(i,s);return{...t.data,status:t.status}}catch(s){return{errMessage:a.getHandledError(s)}}},O=async()=>{try{return await r.get(A)}catch(e){return{errMessage:a.getHandledError(e)}}};export{O as f,D as l,H as p,L as u};
