import{E as b,b as n,j as e,S as d,D as y,I as C,w as L,a7 as I,z as k,a1 as F,a8 as D,a9 as T,W as z}from"./index-7d6b082f.js";import{u as B}from"./use-router-84d17702.js";import{l as W}from"./index-ddd09c05.js";import{T as f}from"./TextField-ea6f8527.js";import{L as A}from"./LoadingButton-6dc0c710.js";import{C as O}from"./Select-11158271.js";import"./isMuiElement-117ba8a0.js";import"./useControlled-24d38419.js";const{setUserDetails:R}=D.actions,{setError:U}=T.actions;function V(){var m,p,x,h;const i=B(),c=b(),[l,g]=n.useState(!1),[a,j]=n.useState("nazneen.shaikh@perfectors.in"),[o,w]=n.useState("Perfectors@123"),[s,u]=n.useState(null),E=()=>{if(!a){const t={isError:!0,message:"Please enter email address"};u(r=>({...r,email:t}))}if(!o){const t={isError:!0,message:"Please enter password"};u(r=>({...r,password:t}))}return!(!a||!o)},v=async()=>{if(E()){const t={username:a,password:o},r=await W(t);r.status===200?(c(R({...r,...t})),r.new?i.push("/reset-password"):i.push("/dashboard")):c(U(r))}},P=()=>{i.push("/forgot-password")},S=e.jsxs(e.Fragment,{children:[e.jsxs(d,{spacing:3,children:[e.jsx(f,{error:(m=s==null?void 0:s.email)==null?void 0:m.isError,helperText:(p=s==null?void 0:s.email)==null?void 0:p.message,name:"email",label:"Email address",value:a,onChange:t=>j(t.target.value)}),e.jsx(f,{error:(x=s==null?void 0:s.password)==null?void 0:x.isError,helperText:(h=s==null?void 0:s.password)==null?void 0:h.message,name:"password",label:"Password",type:l?"text":"password",value:o,onChange:t=>w(t.target.value),InputProps:{endAdornment:e.jsx(y,{position:"end",children:e.jsx(C,{onClick:()=>g(!l),edge:"end",children:e.jsx(L,{icon:l?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),e.jsx(d,{direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:3},children:e.jsx(I,{variant:"subtitle2",underline:"hover",sx:{cursor:"pointer"},onClick:P,children:"Forgot password?"})}),e.jsx(A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",onClick:v,children:"Login"})]});return e.jsxs(k,{sx:{height:1},children:[e.jsx(F,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),e.jsx(d,{alignItems:"center",justifyContent:"center",sx:{height:1},children:e.jsx(O,{sx:{p:5,width:1,maxWidth:420},children:S})})]})}function X(){return e.jsxs(e.Fragment,{children:[e.jsx(z,{children:e.jsx("title",{children:" Login "})}),e.jsx(V,{})]})}export{X as default};
