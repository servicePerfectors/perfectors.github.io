var p=Object.defineProperty;var I=(t,s,e)=>s in t?p(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e;var g=(t,s,e)=>(I(t,typeof s!="symbol"?s+"":s,e),e);import{ac as y,ad as i}from"./index-08afa9b7.js";const w="https://testproject-49049.df.r.appspot.com",N={LOGIN:"/login",UPLOAD:"/upload",UPDATE_USER:"/updateUser"},l={BASE_URL:w,ENDPOINTS:N},{BASE_URL:u}=l,a=class a extends y{constructor(s=u){super(s)}static getInstance(){return this.classInstance||(this.classInstance=new a(u)),this.classInstance.instance}static getNewInstance(s){return new a(s)}static getHandledError(s,e="Something went wrong, Please try again later"){var c,o,r,d;return(o=(c=s==null?void 0:s.response)==null?void 0:c.data)!=null&&o.messages?Array.isArray(s.response.data.messages)?s.response.data.messages.join(","):s.response.data.messages:(d=(r=s==null?void 0:s.response)==null?void 0:r.data)!=null&&d.message?Array.isArray(s.response.data.message)?s.response.data.message.join(","):s.response.data.message:e}};g(a,"classInstance",null);let n=a;const{ENDPOINTS:A}=l,{LOGIN:S,UPLOAD:U}=A,m=n.getInstance(),f=async t=>{try{new Headers().append("Content-Type","application/json");const e=await m.post(S,t);return i("authToken",e.data.jwt,1),{...e.data,status:e.status}}catch(s){return{errMessage:n.getHandledError(s)}}},D=async t=>{try{const s=new FormData;s.append("file",t);const e=await m.post(U,s);return{...e.data,status:e.status}}catch(s){return{errMessage:n.getHandledError(s)}}};export{f as l,D as u};
