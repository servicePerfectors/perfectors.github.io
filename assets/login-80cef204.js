import{z as S,b as n,j as e,S as d,I as b,y as C,x as L,a5 as I,v as k,Y as F,a6 as T,a7 as z,W as B}from"./index-027e31d9.js";import{u as D}from"./use-router-4bc29af6.js";import{l as W}from"./index-6b3b37d3.js";import{T as f}from"./TextField-4a2ef36f.js";import{L as A}from"./LoadingButton-434a8558.js";import{C as O}from"./Select-e89e5745.js";import"./isMuiElement-6a8b3c8a.js";import"./useControlled-551b22d3.js";const{setUserDetails:R}=T.actions,{setError:U}=z.actions;function V(){var m,p,x,h;const i=D(),c=S(),[l,g]=n.useState(!1),[a,j]=n.useState("nazneen.shaikh@perfectors.in"),[o,w]=n.useState("Perfectors@123"),[s,u]=n.useState(null),v=()=>{if(!a){const t={isError:!0,message:"Please enter email address"};u(r=>({...r,email:t}))}if(!o){const t={isError:!0,message:"Please enter password"};u(r=>({...r,password:t}))}return!(!a||!o)},y=async()=>{if(v()){const t={username:a,password:o},r=await W(t);r.status===200?(c(R({...r,...t})),r.new?i.push("/reset-password"):i.push("/dashboard")):c(U(r))}},E=()=>{i.push("/forgot-password")},P=e.jsxs(e.Fragment,{children:[e.jsxs(d,{spacing:3,children:[e.jsx(f,{error:(m=s==null?void 0:s.email)==null?void 0:m.isError,helperText:(p=s==null?void 0:s.email)==null?void 0:p.message,name:"email",label:"Email address",value:a,onChange:t=>j(t.target.value)}),e.jsx(f,{error:(x=s==null?void 0:s.password)==null?void 0:x.isError,helperText:(h=s==null?void 0:s.password)==null?void 0:h.message,name:"password",label:"Password",type:l?"text":"password",value:o,onChange:t=>w(t.target.value),InputProps:{endAdornment:e.jsx(b,{position:"end",children:e.jsx(C,{onClick:()=>g(!l),edge:"end",children:e.jsx(L,{icon:l?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),e.jsx(d,{direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:3},children:e.jsx(I,{variant:"subtitle2",underline:"hover",sx:{cursor:"pointer"},onClick:E,children:"Forgot password?"})}),e.jsx(A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",onClick:y,children:"Login"})]});return e.jsxs(k,{sx:{height:1},children:[e.jsx(F,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),e.jsx(d,{alignItems:"center",justifyContent:"center",sx:{height:1},children:e.jsx(O,{sx:{p:5,width:1,maxWidth:420},children:P})})]})}function Q(){return e.jsxs(e.Fragment,{children:[e.jsx(B,{children:e.jsx("title",{children:" Login "})}),e.jsx(V,{})]})}export{Q as default};
